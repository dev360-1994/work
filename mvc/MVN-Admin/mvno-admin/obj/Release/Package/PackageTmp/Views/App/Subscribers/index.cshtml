@{
    ViewBag.Title = "Subscribers";
}

<style type="text/css">
    #mvno-admin-subsciber-grid {
        height: calc(100% - 56px);
    }
</style>

<section id="mvno-admin-breadcrumb-actions" class="d-flex flex-nowrap align-items-center px-4 py-2">
    <div class="flex-fill">
        <button class="btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                <path d="M8.5 21V20C8.5 19.4696 8.71071 18.9609 9.08579 18.5858C9.46086 18.2107 9.96957 18 10.5 18H14.5C15.0304 18 15.5391 18.2107 15.9142 18.5858C16.2893 18.9609 16.5 19.4696 16.5 20V21M17.5 10H19.5C20.0304 10 20.5391 10.2107 20.9142 10.5858C21.2893 10.9609 21.5 11.4696 21.5 12V13M3.5 13V12C3.5 11.4696 3.71071 10.9609 4.08579 10.5858C4.46086 10.2107 4.96957 10 5.5 10H7.5M10.5 13C10.5 13.5304 10.7107 14.0391 11.0858 14.4142C11.4609 14.7893 11.9696 15 12.5 15C13.0304 15 13.5391 14.7893 13.9142 14.4142C14.2893 14.0391 14.5 13.5304 14.5 13C14.5 12.4696 14.2893 11.9609 13.9142 11.5858C13.5391 11.2107 13.0304 11 12.5 11C11.9696 11 11.4609 11.2107 11.0858 11.5858C10.7107 11.9609 10.5 12.4696 10.5 13ZM15.5 5C15.5 5.53043 15.7107 6.03914 16.0858 6.41421C16.4609 6.78929 16.9696 7 17.5 7C18.0304 7 18.5391 6.78929 18.9142 6.41421C19.2893 6.03914 19.5 5.53043 19.5 5C19.5 4.46957 19.2893 3.96086 18.9142 3.58579C18.5391 3.21071 18.0304 3 17.5 3C16.9696 3 16.4609 3.21071 16.0858 3.58579C15.7107 3.96086 15.5 4.46957 15.5 5ZM5.5 5C5.5 5.53043 5.71071 6.03914 6.08579 6.41421C6.46086 6.78929 6.96957 7 7.5 7C8.03043 7 8.53914 6.78929 8.91421 6.41421C9.28929 6.03914 9.5 5.53043 9.5 5C9.5 4.46957 9.28929 3.96086 8.91421 3.58579C8.53914 3.21071 8.03043 3 7.5 3C6.96957 3 6.46086 3.21071 6.08579 3.58579C5.71071 3.96086 5.5 4.46957 5.5 5Z" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span>Subscriber Management</span>
        </button>

        <button type="button" class="btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M14 17H20M17 14V20M4 5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H9C9.26522 4 9.51957 4.10536 9.70711 4.29289C9.89464 4.48043 10 4.73478 10 5V9C10 9.26522 9.89464 9.51957 9.70711 9.70711C9.51957 9.89464 9.26522 10 9 10H5C4.73478 10 4.48043 9.89464 4.29289 9.70711C4.10536 9.51957 4 9.26522 4 9V5ZM14 5C14 4.73478 14.1054 4.48043 14.2929 4.29289C14.4804 4.10536 14.7348 4 15 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V9C20 9.26522 19.8946 9.51957 19.7071 9.70711C19.5196 9.89464 19.2652 10 19 10H15C14.7348 10 14.4804 9.89464 14.2929 9.70711C14.1054 9.51957 14 9.26522 14 9V5ZM4 15C4 14.7348 4.10536 14.4804 4.29289 14.2929C4.48043 14.1054 4.73478 14 5 14H9C9.26522 14 9.51957 14.1054 9.70711 14.2929C9.89464 14.4804 10 14.7348 10 15V19C10 19.2652 9.89464 19.5196 9.70711 19.7071C9.51957 19.8946 9.26522 20 9 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V15Z" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span>Create New Agent</span>
        </button>
    </div>
    <div class="flex-grow-0">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb align-items-center justify-content-end m-0">
                <li class="breadcrumb-item"><a href="/app/dashboards">Dashboard</a></li>
                <li class="breadcrumb-item active" aria-current="page">Subscribers</li>
            </ol>
        </nav>
    </div>
</section>


<section id="mvno-admin-page-content" class="px-4">
    <div class="card h-100">
        <div class="card-body h-100 overflow-auto">

            <section id="mvno-admin-subscriber-actions" class="mb-2">
                <div class="d-flex align-items-center flex-nowrap">
                    <div class="flex-fill">
                        <button class="btn btn-primary" onclick="window.location.href='/subscribers/createNewSubscriber'">
                            Create New Subscriber
                        </button>
                    </div>
                    <div class="flex-grow-0">
                        <button class="btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                <path d="M14.5 3.5V7.5C14.5 7.76522 14.6054 8.01957 14.7929 8.20711C14.9804 8.39464 15.2348 8.5 15.5 8.5H19.5M14.5 3.5H7.5C6.96957 3.5 6.46086 3.71071 6.08579 4.08579C5.71071 4.46086 5.5 4.96957 5.5 5.5V19.5C5.5 20.0304 5.71071 20.5391 6.08579 20.9142C6.46086 21.2893 6.96957 21.5 7.5 21.5H12M14.5 3.5L19.5 8.5M19.5 8.5V13.5M14.5 19.5H21.5M21.5 19.5L18.5 16.5M21.5 19.5L18.5 22.5" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            <span>Export</span>
                        </button>

                        <button class="btn btn-primary mx-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
                            Advanced Search
                        </button>

                        <button class="btn btn-outline-secondary">
                            Reset
                        </button>

                    </div>
                </div>
            </section>

            <div id="mvno-admin-subsciber-grid" class="mvno-grid-wrapper w-100">
                @(Html.Kendo().Grid<mvno_admin.Models.Subscribers>()
                    .Name("subscribersGrid")
                    .Columns(columns =>
                    {
                        columns.Bound(s => s.SubscriberId)
                            .Title("Details")
                            .ClientTemplate("<button class='btn p-0 d-flex align-items-center mvno-admin-subscriber-row-actions' onClick='ViewSubscriberDetails(#=SubscriberId#)'>" +
                            "<svg xmlns='http://www.w3.org/2000/svg' width='24' height='25' viewBox='0 0 24 25' fill='none'>" +
                            "<path d='M10 12.5C10 13.0304 10.2107 13.5391 10.5858 13.9142C10.9609 14.2893 11.4696 14.5 12 14.5C12.5304 14.5 13.0391 14.2893 13.4142 13.9142C13.7893 13.5391 14 13.0304 14 12.5C14 11.9696 13.7893 11.4609 13.4142 11.0858C13.0391 10.7107 12.5304 10.5 12 10.5C11.4696 10.5 10.9609 10.7107 10.5858 11.0858C10.2107 11.4609 10 11.9696 10 12.5Z'/>" +
                            "<path d='M21 12.5C18.6 16.5 15.6 18.5 12 18.5C8.4 18.5 5.4 16.5 3 12.5C5.4 8.5 8.4 6.5 12 6.5C15.6 6.5 18.6 8.5 21 12.5Z'/>" +
                            "</svg>" +
                            "<span>View Details</span>" +
                            "</button>")
                            .Encoded(false);
                        columns.Bound(s => s.SubscriberId).Title("Subscriber ID");
                        columns.Bound(s => s.SubscriberStatus).Title("Subscriber Status");
                        columns.Bound(s => s.CLEC).Title("CLEC");
                        columns.Bound(s => s.AgentName).Title("Agent Name");
                        columns.Bound(s => s.MDN).Title("MDN");
                        columns.Bound(s => s.FirstName).Title("First Name");
                        columns.Bound(s => s.LastName).Title("Last Name");
                        columns.Bound(s => s.Package).Title("Package");
                        columns.Bound(s => s.NLAD).Title("NLAD");
                        columns.Bound(s => s.NLADProgram).Title("NLAD Program");
                        columns.Bound(s => s.IsEtc).Title("Is ETC");
                        columns.Bound(s => s.isTribal).Title("Is Tribal");
                    })
                    .Sortable()
                    .Pageable(pageable => pageable
                        .PageSizes(new[] { 25, 50, 100, 200 })
                        .ButtonCount(5)
                    )
                    .DataSource(dataSource => dataSource
                        .Ajax()
                        .PageSize(20)
                        .Read(read => read.Action("GetSubscribersList", "Subscribers"))
                    )
                )
            </div>
        </div>
    </div>
</section>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel" style="width: 800px;">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="staticBackdropLabel">Advanced Search</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <form>
            <div class="container-fluid p-0">
                <div class="row">
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="Subscriber ID" id="subscriberID" />
                            <label for="subscriberID">Subscriber ID</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="SSN" id="SSN" />
                            <label for="SSN">SSN</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            @(Html.Kendo().DropDownList()
                                .Name("provider")
                                .DataTextField("Text")
                                .DataValueField("Value")
                                .OptionLabel("")
                                .Label(label =>
                                {
                                    label.Content("Provider");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @class = "form-control mb-3" })
                            )
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="MDN" id="MDN" />
                            <label for="MDN">MDN</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="First Name" id="FirstName" />
                            <label for="FirstName">First Name</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="Last Name" id="LastName" />
                            <label for="LastName">Last Name</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="Street Address" id="StreetAddress" />
                            <label for="StreetAddress">Street Address</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="Apartment# or Suite#" id="ApartmentSuite" />
                            <label for="ApartmentSuite">Apartment# or Suite #</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            @(Html.Kendo().DropDownList()
                                .Name("state")
                                .DataTextField("Text")
                                .DataValueField("Value")
                                .OptionLabel("")
                                .Label(label =>
                                {
                                    label.Content("State");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @class = "form-control mb-3" })
                            )
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            @(Html.Kendo().DropDownList()
                                .Name("city")
                                .DataTextField("Text")
                                .DataValueField("Value")
                                .OptionLabel("")
                                .Label(label =>
                                {
                                    label.Content("City");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @class = "form-control mb-3" })
                            )
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="Zip Code" id="ZipCode" />
                            <label for="ZipCode">Zip Code</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            <input class="form-control mb-3" type="text" placeholder="App Subscriber ID" id="AppSubscriberID" />
                            <label for="AppSubscriberID">App Subscriber ID</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            @(Html.Kendo().DatePicker()
                                .Name("createdFrom")
                                .Format("dd-MM-yyyy")
                                .Min(DateTime.Today)
                                .Label(label =>
                                {
                                    label.Content("Created From");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @placeholder = "dd-mm-yyyy" })
                            )
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating">
                            @(Html.Kendo().DatePicker()
                                .Name("createdTo")
                                .Format("dd-MM-yyyy")
                                .Min(DateTime.Today)
                                .Label(label =>
                                {
                                    label.Content("Created To");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @placeholder = "dd-mm-yyyy" })
                            )
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="form-floating mt-3">
                            @(Html.Kendo().DropDownList()
                                .Name("source")
                                .DataTextField("Text")
                                .DataValueField("Value")
                                .OptionLabel("")
                                .Label(label =>
                                {
                                    label.Content("Where did you hear about us?");
                                    label.Floating(true);
                                })
                                .HtmlAttributes(new { @class = "form-control mb-3" })
                            )
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="d-flex align-items-center gap-4 mb-4">
                            <div>
                                @(Html.Kendo().CheckBox()
                                .Name("isETC")
                                .Label("Is ETC")
                                .Value("isETC")
                                .Checked(false)
                            )
                            </div>
                            <div>
                                @(Html.Kendo().CheckBox()
                                .Name("isNonETC")
                                .Label("Is Non ETC")
                                .Value("isNonETC")
                                .Checked(false)
                            )
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <button class="btn btn-outline-secondary">Reset</button>
                    </div>
                    <div class="col-6 text-end">
                        <button class="btn btn-primary" type="submit">Advanced Search</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    function ViewSubscriberDetails(SubscriberId) {
        window.location.href = "/subscribers/viewSubscriber/" + SubscriberId;
    }
</script>