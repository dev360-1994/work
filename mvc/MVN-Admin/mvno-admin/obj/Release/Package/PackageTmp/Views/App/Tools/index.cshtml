@{
    ViewBag.Title = "Tools";
}

<section id="mvno-admin-device_Inventory-content" class="px-4">
    <div class="card h-100">
        <div class="card-body h-100">
            <div class="panel panel-body">
                <div class="box box-info">
                    <div class="box-body d-flex justify-content-between align-items-center">
                        <div class="text-start ps-4">
                            <button class="btn " name="BatchRequestButton" id="btnBatchRequest">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M14 17H20M17 14V20M4 5C4 4.73478 4.10536 4.48043 4.29289 4.29289C4.48043 4.10536 4.73478 4 5 4H9C9.26522 4 9.51957 4.10536 9.70711 4.29289C9.89464 4.48043 10 4.73478 10 5V9C10 9.26522 9.89464 9.51957 9.70711 9.70711C9.51957 9.89464 9.26522 10 9 10H5C4.73478 10 4.48043 9.89464 4.29289 9.70711C4.10536 9.51957 4 9.26522 4 9V5ZM14 5C14 4.73478 14.1054 4.48043 14.2929 4.29289C14.4804 4.10536 14.7348 4 15 4H19C19.2652 4 19.5196 4.10536 19.7071 4.29289C19.8946 4.48043 20 4.73478 20 5V9C20 9.26522 19.8946 9.51957 19.7071 9.70711C19.5196 9.89464 19.2652 10 19 10H15C14.7348 10 14.4804 9.89464 14.2929 9.70711C14.1054 9.51957 14 9.26522 14 9V5ZM4 15C4 14.7348 4.10536 14.4804 4.29289 14.2929C4.48043 14.1054 4.73478 14 5 14H9C9.26522 14 9.51957 14.1054 9.70711 14.2929C9.89464 14.4804 10 14.7348 10 15V19C10 19.2652 9.89464 19.5196 9.70711 19.7071C9.51957 19.8946 9.26522 20 9 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V15Z" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                Batch Request
                            </button>
                            <button class="btn " name="MassTextingButton" id="btnMassTexting">
                                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.5 21V20C8.5 19.4696 8.71071 18.9609 9.08579 18.5858C9.46086 18.2107 9.96957 18 10.5 18H14.5C15.0304 18 15.5391 18.2107 15.9142 18.5858C16.2893 18.9609 16.5 19.4696 16.5 20V21M17.5 10H19.5C20.0304 10 20.5391 10.2107 20.9142 10.5858C21.2893 10.9609 21.5 11.4696 21.5 12V13M3.5 13V12C3.5 11.4696 3.71071 10.9609 4.08579 10.5858C4.46086 10.2107 4.96957 10 5.5 10H7.5M10.5 13C10.5 13.5304 10.7107 14.0391 11.0858 14.4142C11.4609 14.7893 11.9696 15 12.5 15C13.0304 15 13.5391 14.7893 13.9142 14.4142C14.2893 14.0391 14.5 13.5304 14.5 13C14.5 12.4696 14.2893 11.9609 13.9142 11.5858C13.5391 11.2107 13.0304 11 12.5 11C11.9696 11 11.4609 11.2107 11.0858 11.5858C10.7107 11.9609 10.5 12.4696 10.5 13ZM15.5 5C15.5 5.53043 15.7107 6.03914 16.0858 6.41421C16.4609 6.78929 16.9696 7 17.5 7C18.0304 7 18.5391 6.78929 18.9142 6.41421C19.2893 6.03914 19.5 5.53043 19.5 5C19.5 4.46957 19.2893 3.96086 18.9142 3.58579C18.5391 3.21071 18.0304 3 17.5 3C16.9696 3 16.4609 3.21071 16.0858 3.58579C15.7107 3.96086 15.5 4.46957 15.5 5ZM5.5 5C5.5 5.53043 5.71071 6.03914 6.08579 6.41421C6.46086 6.78929 6.96957 7 7.5 7C8.03043 7 8.53914 6.78929 8.91421 6.41421C9.28929 6.03914 9.5 5.53043 9.5 5C9.5 4.46957 9.28929 3.96086 8.91421 3.58579C8.53914 3.21071 8.03043 3 7.5 3C6.96957 3 6.46086 3.21071 6.08579 3.58579C5.71071 3.96086 5.5 4.46957 5.5 5Z" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                Mass Texting
                            </button>
                        </div>
                        <div class="text-end pe-4">
                            <div class="d-inline">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-info ps-4 mt-3">
                    <div class="d-flex align-items-center flex-nowrap mb-3">
                        <div class="flex-fill">
                            Use the send mass text button to add the text any time
                        </div>
                        <div class="flex-grow-0">
                            <button class="btn btn-primary mx-2" id="sendMassTextBtn" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#canvasSendMassText" aria-controls="offcanvasRight">
                                Send Mass Text
                            </button>
                        </div>
                    </div>

                    <div>
                        @(Html.Kendo().TabStrip()
        .Name("tabstrip")
      .Animation(animation =>
          animation.Open(effect =>
              effect.Fade(FadeDirection.In)))
      .Items(tabstrip =>
      {
          tabstrip.Add().Text("Mass Text")
              .Selected(true)
              .Content(@<text>
                    <section id="mvno-admin-view-message-actions">
                        <div class="d-flex align-items-center flex-nowrap">
                            <div class="flex-fill" id="viewAllMessagesSection">
                            <button class="btn btn-primary" name="viewAllMessages" id="btnViewAllMessages" type="button">
                                 View All Messages
                             </button>
                            </div>

                            <div id="additionalOptions" class="d-none flex-fill">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <select id="kendoDropdown"></select>
                                    </div>
                                </div>
                                <div class="col-sm-1">
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <div id="daterangepicker" title="daterangepicker"></div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                     <button class="btn btn-primary" name="searchMessages" id="btnSearchMessages" type="button">
                                     Search
                                  </button>
                                </div>

                            </div>
                            <div class="flex-grow-0">
                                <button class="btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                        <path d="M14.5 3.5V7.5C14.5 7.76522 14.6054 8.01957 14.7929 8.20711C14.9804 8.39464 15.2348 8.5 15.5 8.5H19.5M14.5 3.5H7.5C6.96957 3.5 6.46086 3.71071 6.08579 4.08579C5.71071 4.46086 5.5 4.96957 5.5 5.5V19.5C5.5 20.0304 5.71071 20.5391 6.08579 20.9142C6.46086 21.2893 6.96957 21.5 7.5 21.5H12M14.5 3.5L19.5 8.5M19.5 8.5V13.5M14.5 19.5H21.5M21.5 19.5L18.5 16.5M21.5 19.5L18.5 22.5" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                    <span>Export</span>
                                </button>
                            </div>
                        </div>
                    </section>
                    <div id="mvno-admin-devices-grid" class="w-100 overflow-auto mt-2">
                                            @(Html.Kendo().Grid<mvno_admin.Models.MassTextModel>()
                                             .Name("massText_Messages_Grid")
                                             .Columns(columns =>
                                             {
                                                 columns.Bound(s => s.Clec).Title("Clec");
                                                 columns.Bound(s => s.InternalId).Title("Internal Id");
                                                 columns.Bound(s => s.Provider).Title("Provider");
                                                 columns.Bound(s => s.MDNs).Title("MDNs");
                                                 columns.Bound(s => s.Message).Title("Message");
                                                 columns.Bound(s => s.Status).Title("Status");
                                                 columns.Bound(s => s.Response).Title("Response");
                                                 columns.Bound(s => s.CreatedDate).Title("Creation Datetime");
                                                 columns.Bound(s => s.Author).Title("Author");
                                             })
                                             .Sortable()
                                             .DataSource(dataSource => dataSource
                                                 .Ajax()
                                                 .PageSize(20)
                                                 .Read(read => read.Action("GetMassTextMessagesList", "Tools"))
                                             )
                                             )
                    </div>
              </text>);

          tabstrip.Add().Text("Scheduled Mass Text")
              .Content(@<text>
                    <section id="mvno-admin-mass-scheduled-actions">
                        <div class="d-flex align-items-center flex-nowrap">
                            <div class="flex-fill">
                            </div>
                            <div class="flex-grow-0">
                                <button class="btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                        <path d="M14.5 3.5V7.5C14.5 7.76522 14.6054 8.01957 14.7929 8.20711C14.9804 8.39464 15.2348 8.5 15.5 8.5H19.5M14.5 3.5H7.5C6.96957 3.5 6.46086 3.71071 6.08579 4.08579C5.71071 4.46086 5.5 4.96957 5.5 5.5V19.5C5.5 20.0304 5.71071 20.5391 6.08579 20.9142C6.46086 21.2893 6.96957 21.5 7.5 21.5H12M14.5 3.5L19.5 8.5M19.5 8.5V13.5M14.5 19.5H21.5M21.5 19.5L18.5 16.5M21.5 19.5L18.5 22.5" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                    <span>Export</span>
                                </button>
                            </div>
                        </div>
                    </section>
                      <div id="mvno-admin-SIMs-grid" class="w-100 overflow-auto mt-2">
                       @(Html.Kendo().Grid<mvno_admin.Models.MassTextModel>()
                         .Name("scheduled_MassText_Messages_Grid")
                         .Columns(columns =>
                         {
                             columns.Bound(s => s.Clec).Title("Clec");
                             columns.Bound(s => s.InternalId).Title("Internal Id");
                             columns.Bound(s => s.Provider).Title("Provider");
                             columns.Bound(s => s.MDNs).Title("MDNs");
                             columns.Bound(s => s.Message).Title("Message");
                             columns.Bound(s => s.Status).Title("Status");
                             columns.Bound(s => s.Response).Title("Response");
                             columns.Bound(s => s.CreatedDate).Title("Creation Datetime");
                             columns.Bound(s => s.Author).Title("Author");
                         })
                         .Sortable()
                         .DataSource(dataSource => dataSource
                             .Ajax()
                             .PageSize(20)
                             .Read(read => read.Action("GetMassTextMessagesList", "Tools"))
                         )
                         )
                </div>
              </text>);

          tabstrip.Add().Text("Received Text Messages")
              .Content(@<text>

                    <section id="mvno-admin-message-received-actions">
                            <div class="d-flex align-items-center flex-nowrap">
                                <div class="flex-fill d-lg-flex">
                                    <div class="col-sm-3">
                                        <div class="form-group">
                                            <div id="receivedMessageRangePicker" title="daterangepicker"></div>
                                        </div>
                                    </div>
                                     <div class="col-sm-1"></div>
                                    <div class="col-sm-3">
                                        <div class="form-group">
                                            @(Html.Kendo().TextBox()
                                            .Name("MDN")
                                            .Placeholder("MDN")
                                            )
                                        </div>
                                    </div>
                                    <div class="col-sm-1"> </div>
                                    <div class="col-sm-4">
                                         <button class="btn btn-primary" name="searchReceivedMessages" id="btnSearchReceivedMessages" type="button">
                                         Search
                                      </button>
                                    </div>
                                </div>
                                <div class="flex-grow-0">
                                    <button class="btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                            <path d="M14.5 3.5V7.5C14.5 7.76522 14.6054 8.01957 14.7929 8.20711C14.9804 8.39464 15.2348 8.5 15.5 8.5H19.5M14.5 3.5H7.5C6.96957 3.5 6.46086 3.71071 6.08579 4.08579C5.71071 4.46086 5.5 4.96957 5.5 5.5V19.5C5.5 20.0304 5.71071 20.5391 6.08579 20.9142C6.46086 21.2893 6.96957 21.5 7.5 21.5H12M14.5 3.5L19.5 8.5M19.5 8.5V13.5M14.5 19.5H21.5M21.5 19.5L18.5 16.5M21.5 19.5L18.5 22.5" stroke="#1B1565" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                        <span>Export</span>
                                    </button>
                                </div>
                            </div>
                        </section>
                          <div id="mvno-admin-DeviceTemplate-grid" class="w-100 overflow-auto mt-2">
                            @(Html.Kendo().Grid<mvno_admin.Models.MassTextModel>()
                              .Name("received_Messages_Text_Grid")
                              .Columns(columns =>
                              {
                                  columns.Bound(s => s.Clec).Title("Clec");
                                  columns.Bound(s => s.InternalId).Title("Internal Id");
                                  columns.Bound(s => s.Provider).Title("Provider");
                                  columns.Bound(s => s.MDNs).Title("MDNs");
                                  columns.Bound(s => s.Message).Title("Message");
                                  columns.Bound(s => s.Status).Title("Status");
                                  columns.Bound(s => s.Response).Title("Response");
                                  columns.Bound(s => s.CreatedDate).Title("Creation Datetime");
                                  columns.Bound(s => s.Author).Title("Author");
                              })
                              .Sortable()
                              .DataSource(dataSource => dataSource
                                  .Ajax()
                                  .PageSize(20)
                                  .Read(read => read.Action("GetMassTextMessagesList", "Tools"))
                              )
                              )
                    </div>
              </text>);
            })
        )
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--Canvas modal-->
<div class="offcanvas offcanvas-end w-50" tabindex="-1" id="canvasSendMassText" aria-labelledby="canvasSendMassTextLabel">
    <div class="offcanvas-header">
        <h5 id="canvasSendMassTextLabel">Send Mass Text</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <div class="box-body">
        </div>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {

        // create DateRangePicker from input HTML element
        $("#daterangepicker").kendoDateRangePicker({
            "messages": {
                "startLabel": "Date-In",
                "endLabel": "Date-Out"
            }
        });
        $("#receivedMessageRangePicker").kendoDateRangePicker({
            "messages": {
                "startLabel": "Date-In",
                "endLabel": "Date-Out"
            }
        });

        $("#btnViewAllMessages").click(function () {
            $("#additionalOptions").addClass("d-lg-flex")
            $("#additionalOptions").toggleClass("d-none");
            $("#viewAllMessagesSection").addClass("d-none");
        });

        var tabstrip = $("#tabstrip").data("kendoTabStrip");
        tabstrip.bind("select", function (e) {
            var x = e.item;
            selectedTabStripIndex = $(x).index();
            if (selectedTabStripIndex === 0) {
                $("#viewAllMessagesSection").removeClass("d-none");
                $("#additionalOptions").removeClass("d-lg-flex")
                $("#additionalOptions").toggleClass("d-none");
            }
        });

        $("#kendoDropdown").kendoDropDownList({
            dataSource: ["Option 1", "Option 2", "Option 3"],
            optionLabel: "MDN"
            // Other configuration options as needed
        });
    });

</script>
